%2F**%0D%0A%20*%20%40name%20ThisBlog%20Function%20File%0D%0A%20*%20%40description%20%E5%AE%9A%E4%B9%89%E5%8A%9F%E8%83%BD%0D%0A%20*%20%40author%20Wang%20Jia%20Ming%0D%0A%20*%20%40createDate%202024-10-18%0D%0A%20*%2F%0D%0A'use%20strict'%3B%0D%0A%0D%0Avar%20ThisBlog_Data%20%3D%20%7B%7D%2C%20ThisBlog_ArticleListMetaData%20%3D%20null%2C%20ThisBlog_ArticleListMetaDataInfo%20%3D%20null%2C%20ThisBlog_CurrentPageIndex%20%3D%201%3B%0D%0A%0D%0Aconst%20TB%20%3D%20(function%20()%20%7B%0D%0A%09const%20getClassName%20%3D%20str%20%3D%3E%20%7B%0D%0A%09%09const%20result%20%3D%20document.getElementsByClassName(%20str%20)%3B%0D%0A%09%09if%20(%20result.length%20%3D%3D%3D%200%20)%20return%20null%3B%0D%0A%09%09const%20item%20%3D%20result.item(%200%20)%3B%0D%0A%09%09item.getClassName%20%3D%20function%20(%20str%20)%20%7B%0D%0A%09%09%09return%20item.getElementsByClassName(%20str%20).item(%200%20)%3B%0D%0A%09%09%7D%3B%0D%0A%09%09return%20item%3B%0D%0A%09%7D%3B%0D%0A%0D%0A%09const%20BasicElement%20%3D%20%7B%20%2F%2F%20%22%22%3A%20getClassName(%22%22)%2C%0D%0A%09%09%22tb-app-navigation-bar%22%3A%20getClassName(%20%22tb-app-navigation-bar%22%20)%2C%0D%0A%09%09%22tb-app-main-view%22%3A%20getClassName(%20%22tb-app-main-view%22%20)%2C%0D%0A%09%09%22tb-app-content-view%22%3A%20getClassName(%20%22tb-app-content-view%22%20)%2C%0D%0A%09%09%22tb-app-content-article-list-view%22%3A%20getClassName(%20%22tb-app-content-article-list-view%22%20)%2C%0D%0A%09%09%22tb-app-content-classify-view%22%3A%20getClassName(%20%22tb-app-content-classify-view%22%20)%2C%0D%0A%09%09%22tb-app-content-tag-view%22%3A%20getClassName(%20%22tb-app-content-tag-view%22%20)%2C%0D%0A%09%09%22tb-app-content-friend-link-view%22%3A%20getClassName(%20%22tb-app-content-friend-link-view%22%20)%2C%0D%0A%09%09%22tb-app-content-about-view%22%3A%20getClassName(%20%22tb-app-content-about-view%22%20)%2C%0D%0A%09%09%22tb-app-footer-view%22%3A%20getClassName(%20%22tb-app-footer-view%22%20)%2C%0D%0A%09%09%22tb-app-content-article-list-paging%22%3A%20getClassName(%20%22tb-app-content-article-list-paging%22%20)%2C%0D%0A%09%09%22tb-app-content-article-list-paging-numbers%22%3A%20getClassName(%20%22tb-app-content-article-list-paging-numbers%22%20)%2C%0D%0A%09%09%22tb-app-content-article-list-content%22%3A%20getClassName(%20%22tb-app-content-article-list-content%22%20)%2C%0D%0A%09%09%22tb-app-content-article-view%22%3A%20getClassName(%20%22tb-app-content-article-view%22%20)%2C%0D%0A%09%09%22tb-app-content-article-iframe%22%3A%20getClassName(%20%22tb-app-content-article-iframe%22%20)%2C%0D%0A%09%09%22tb-app-main-top-scroll-element%22%3A%20getClassName(%20%22tb-app-main-top-scroll-element%22%20)%0D%0A%09%7D%3B%0D%0A%0D%0A%09%2F%2F%20%E9%A1%B5%E9%9D%A2%0D%0A%09class%20Page%20%7B%0D%0A%09%09%2F%2F%20%E6%BB%9A%E5%8A%A8%E5%88%B0%E9%A1%B6%E9%83%A8%0D%0A%09%09static%20scrollTop()%20%7B%0D%0A%09%09%09BasicElement%5B%22tb-app-main-top-scroll-element%22%5D.scrollIntoView(%20%7B%20behavior%3A%20%22smooth%22%20%7D%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20%E6%98%BE%E7%A4%BA%E9%80%89%E6%8B%A9%E7%9A%84%E9%A1%B5%E9%9D%A2%0D%0A%09%09static%20select(%20pageName%20)%20%7B%0D%0A%09%09%09const%20DrawerMenus%20%3D%20getClassName(%20%22tb-app-drawer-menus%22%20)%3B%0D%0A%09%09%09if%20(%20DrawerMenus%20)%20document.body.removeChild(%20DrawerMenus%20)%3B%0D%0A%09%09%09BasicElement%5B%22tb-app-main-view%22%5D.querySelectorAll(%20%22%5Bview%5D%22%20).forEach(%20element%20%3D%3E%20element.classList.remove(%20%22select%22%20)%20)%3B%0D%0A%09%09%09BasicElement%5B%60tb-app-content-%24%7B%20pageName%20%7D-view%60%5D.classList.add(%20%22select%22%20)%3B%0D%0A%09%09%09Page.scrollTop()%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20%E6%98%BE%E7%A4%BA%E6%8A%BD%E5%B1%89%E8%8F%9C%E5%8D%95%0D%0A%09%09static%20showDrawerMenus()%20%7B%0D%0A%09%09%09const%20DrawerMenus%20%3D%20document.createElement(%20%22div%22%20)%3B%0D%0A%09%09%09DrawerMenus.classList.add(%20%22tb-app-drawer-menus%22%20)%3B%0D%0A%09%09%09const%20Content%20%3D%20document.createElement(%20%22div%22%20)%3B%0D%0A%09%09%09Content.classList.add(%20%22tb-app-drawer-menus-content%22%20)%3B%0D%0A%09%09%09DrawerMenus.appendChild(%20Content%20)%3B%0D%0A%09%09%09DrawerMenus.onmousedown%20%3D%20(%20event%20)%20%3D%3E%20%7B%0D%0A%09%09%09%09if%20(%20event.target%20%3D%3D%3D%20DrawerMenus%20)%20document.body.removeChild(%20DrawerMenus%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09const%20menus%20%3D%20BasicElement%5B%22tb-app-navigation-bar%22%5D.getClassName(%20%22menus%22%20).cloneNode(%20true%20)%3B%0D%0A%09%09%09Content.appendChild(%20menus%20)%3B%0D%0A%09%09%09document.body.appendChild(%20DrawerMenus%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20%E8%87%AA%E9%80%82%E5%BA%94%E9%A1%B5%E9%9D%A2%0D%0A%09%09static%20adaptive()%20%7B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20%E6%98%BE%E7%A4%BA%E6%8C%87%E5%AE%9A%E6%96%87%E7%AB%A0%0D%0A%09%09static%20showArticle(%20id%20%3D%20%22%22%20)%20%7B%0D%0A%09%09%09Page.select(%20%22article%22%20)%3B%0D%0A%09%09%09BasicElement%5B%22tb-app-content-article-view%22%5D.style.height%20%3D%20%220px%22%3B%0D%0A%09%09%09const%20iframe%20%3D%20BasicElement%5B%22tb-app-content-article-iframe%22%5D%3B%0D%0A%09%09%09iframe.src%20%3D%20%60.%2Farticles%2F%24%7B%20id%20%7D%2Fcontent.html%60%3B%0D%0A%09%09%09%2F%2Fiframe.src%20%3D%20%22about%3Ablank%22%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20%E5%88%B7%E6%96%B0%E6%96%87%E7%AB%A0%E5%88%97%E8%A1%A8%0D%0A%09%09static%20refreshArticleList()%20%7B%0D%0A%09%09%09if%20(%20ThisBlog_ArticleListMetaData%20%26%26%20Array.isArray(%20ThisBlog_ArticleListMetaData%20)%20)%20%7B%0D%0A%09%09%09%09const%20list%20%3D%20BasicElement%5B%22tb-app-content-article-list-content%22%5D%3B%0D%0A%09%09%09%09list.innerHTML%20%3D%20null%3B%0D%0A%09%09%09%09ThisBlog_ArticleListMetaData.forEach(%20articleMeta%20%3D%3E%20%7B%0D%0A%09%09%09%09%09const%20item%20%3D%20document.createElement(%20%22div%22%20)%3B%0D%0A%09%09%09%09%09item.setAttribute(%20%22article-id%22%2C%20articleMeta%5B%22_id%22%5D%20)%3B%0D%0A%09%09%09%09%09item.onclick%20%3D%20()%20%3D%3E%20%7B%20Page.showArticle(%20articleMeta%5B%22_id%22%5D%20)%3B%20%7D%0D%0A%09%09%09%09%09item.classList.add(%20%22item%22%20)%3B%0D%0A%09%09%09%09%09item.innerHTML%20%3D%20%60%3Cspan%20class%3D%22title%22%3E%24%7B%20articleMeta%5B%22title%22%5D%20%7D%3C%2Fspan%3E%3Cp%20class%3D%22section%22%3E%3Cspan%20class%3D%22createDate%22%3E%24%7B%20articleMeta%5B%22createDate%22%5D%20%7D%3C%2Fspan%3E%3Cspan%20class%3D%22classify%22%3E%24%7B%20articleMeta%5B%22classify%22%5D%20%7D%3C%2Fspan%3E%3C%2Fp%3E%3Cdiv%20class%3D%22abstract%22%3E%24%7B%20articleMeta%5B%22abstract%22%5D%20%7D%3C%2Fdiv%3E%60%3B%0D%0A%09%09%09%09%09list.appendChild(%20item%20)%3B%0D%0A%09%09%09%09%7D%20)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20%E6%96%87%E7%AB%A0%E5%88%97%E8%A1%A8%0D%0A%09class%20ArticleListPaging%20%7B%0D%0A%09%09static%20load(%20n%20%3D%20ThisBlog_CurrentPageIndex%20)%20%7B%0D%0A%09%09%09document.getElementById(%20%22includeArticleListMetaData%22%20).remove()%3B%0D%0A%09%09%09const%20script%20%3D%20document.createElement(%20%22script%22%20)%3B%0D%0A%09%09%09script.id%20%3D%20%22includeArticleListMetaData%22%3B%0D%0A%09%09%09script.src%20%3D%20%60.%2Fscript%2FArticleListMetaData_%24%7B%20n%20%7D.js%60%3B%0D%0A%09%09%09script.onload%20%3D%20()%20%3D%3E%20%7B%0D%0A%09%09%09%09Page.refreshArticleList()%3B%0D%0A%09%09%09%09Page.scrollTop()%3B%0D%0A%09%09%09%09ArticleListPaging.renderBar()%3B%0D%0A%09%09%09%7D%3B%0D%0A%09%09%09document.body.appendChild(%20script%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20%E4%B8%8A%E4%B8%80%E9%A1%B5%0D%0A%09%09static%20up()%20%7B%0D%0A%09%09%09ThisBlog_CurrentPageIndex--%3B%0D%0A%09%09%09if%20(%20ThisBlog_CurrentPageIndex%20%3C%201%20)%20%7B%0D%0A%09%09%09%09ThisBlog_CurrentPageIndex%20%3D%201%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09ArticleListPaging.first()%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20%E4%B8%8B%E4%B8%80%E9%A1%B5%0D%0A%09%09static%20down()%20%7B%0D%0A%09%09%09ThisBlog_CurrentPageIndex%2B%2B%3B%0D%0A%09%09%09if%20(%20ThisBlog_CurrentPageIndex%20%3E%20ThisBlog_ArticleListMetaDataInfo%5B%22size%22%5D%20)%20%7B%0D%0A%09%09%09%09ThisBlog_CurrentPageIndex%20%3D%20ThisBlog_ArticleListMetaDataInfo%5B%22size%22%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09ArticleListPaging.load()%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20%E9%A6%96%E9%A1%B5%0D%0A%09%09static%20first()%20%7B%0D%0A%09%09%09ArticleListPaging.load(%201%20)%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20%E6%B8%B2%E6%9F%93%E5%88%86%E9%A1%B5%E6%98%BE%E7%A4%BA%E6%9D%A1%0D%0A%09%09static%20renderBar()%20%7B%0D%0A%09%09%09const%20bar%20%3D%20BasicElement%5B%22tb-app-content-article-list-paging-numbers%22%5D%3B%0D%0A%09%09%09bar.innerHTML%20%3D%20null%3B%0D%0A%09%09%09let%20i%20%3D%20ThisBlog_CurrentPageIndex%3B%0D%0A%09%09%09const%20getPaginationList%20%3D%20(%20currentPage%2C%20totalPages%2C%20pageSize%20%3D%205%20)%20%3D%3E%20%7B%0D%0A%09%09%09%09currentPage%20%3D%20Math.max(%201%2C%20Math.min(%20Math.floor(%20currentPage%20)%2C%20totalPages%20)%20)%3B%0D%0A%09%09%09%09let%20start%20%3D%20Math.max(%201%2C%20currentPage%20-%20Math.floor(%20(pageSize%20-%201)%20%2F%202%20)%20)%3B%0D%0A%09%09%09%09let%20end%20%3D%20start%20%2B%20pageSize%20-%201%3B%0D%0A%09%09%09%09if%20(%20end%20%3E%20totalPages%20)%20%7B%0D%0A%09%09%09%09%09start%20%3D%20Math.max(%201%2C%20totalPages%20-%20pageSize%20%2B%201%20)%3B%0D%0A%09%09%09%09%09end%20%3D%20totalPages%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09while%20(%20start%20%3C%201%20)%20%7B%0D%0A%09%09%09%09%09start%2B%2B%3B%0D%0A%09%09%09%09%09end%2B%2B%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09let%20paginationList%20%3D%20%5B%5D%3B%0D%0A%09%09%09%09for%20(%20let%20i%20%3D%20start%3B%20i%20%3C%3D%20end%3B%20i%2B%2B%20)%20%7B%0D%0A%09%09%09%09%09paginationList.push(%20i%20)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09return%20paginationList%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09getPaginationList(%20i%2C%20ThisBlog_ArticleListMetaDataInfo%5B%22size%22%5D%20).forEach(%20i%20%3D%3E%20%7B%0D%0A%09%09%09%09const%20item%20%3D%20document.createElement(%20%22li%22%20)%3B%0D%0A%09%09%09%09if%20(%20i%20%3D%3D%3D%20ThisBlog_CurrentPageIndex%20)%20item.classList.add(%20%22select%22%20)%3B%0D%0A%09%09%09%09item.textContent%20%3D%20i.toString()%3B%0D%0A%09%09%09%09bar.appendChild(%20item%20)%3B%0D%0A%09%09%09%7D%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20%E5%A4%84%E7%90%86%E7%AA%97%E5%8F%A3%E4%BF%A1%E6%81%AF%0D%0A%09class%20WindowMessage%20%7B%0D%0A%09%09static%20ARTICLE(%20data%20)%20%7B%0D%0A%09%09%09BasicElement%5B%22tb-app-content-article-view%22%5D.style.height%20%3D%20%60%24%7B%20data%5B%22height%22%5D%20%2B%2050%20%7Dpx%60%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%2F%2F%20%E5%A4%84%E7%90%86%E6%96%87%E7%AB%A0%E9%A1%B5%E9%9D%A2%E6%B6%88%E6%81%AF%0D%0A%09%09static%20articleMessage(%20event%20)%20%7B%0D%0A%09%09%09const%20json%20%3D%20JSON.parse(%20event.data%20)%3B%0D%0A%09%09%09json%5B%22ARTICLE%22%5D%20%26%26%20WindowMessage.ARTICLE(%20json%5B%22ARTICLE%22%5D%20)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09%2F%2F%20%E7%AD%9B%E9%80%89%0D%0A%09class%20filtrate%20%7B%0D%0A%09%09static%20tag(%20element%20)%20%7B%0D%0A%09%09%09const%20target%20%3D%20element.textContent%3B%0D%0A%09%09%09console.log(%20target%20)%0D%0A%09%09%7D%0D%0A%0D%0A%09%09static%20classify(%20element%20)%20%7B%0D%0A%09%09%09const%20target%20%3D%20element.textContent%3B%0D%0A%09%09%09console.log(%20target%20)%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09return%20%7B%0D%0A%09%09BasicElement%2C%0D%0A%09%09Page%2C%0D%0A%09%09filtrate%2C%0D%0A%09%09ArticleListPaging%2C%0D%0A%09%09WindowMessage%0D%0A%09%7D%0D%0A%7D)()%3B